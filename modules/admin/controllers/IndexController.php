<?php/** * Created by PhpStorm. * User: wei.wang * Date: 2017/6/15 * Time: 14:55 */namespace app\modules\admin\controllers;use yii;use yii\web\Controller;use yii\web\Request;class IndexController extends CommonController{    public $layout = false;    public function init()    {    }    public function actionIndex()    {        //  yii\helpers\Url::to(['Index/index', 'year' => 2016, 'category' => 'php']) ;        $get = $this->getGET();        var_dump($get);        var_dump($_GET);        $request = Yii::$app->request;        $get = $request->get();        var_dump($get);        $get = Yii::$app->request->queryParams;        var_dump($get);        $url = Yii::$app->request->getPathInfo();        var_dump($url);        echo $this->module->id;        echo $this->id;        echo $this->action->id;       // $res_count = Yii::$app->db1->createCommand()->select('count(*) as num')->from('user')->queryScalar();        $res_count = Yii::$app->db1->createCommand('SELECT * FROM user')->queryAll();        $aa1 = Yii::$app->db1;       // var_dump($aa1);       // var_dump($res_count);        $conf= Yii::$app->getComponents();        var_dump($conf['db2']);        $conf = Yii::$app->params;        var_dump($conf);//        $connection = new \yii\db\Connection([//            'dsn' => $dsn,//            'username' => $username,//            'password' => $password,//        ]);//        $connection->open();        return $this->render('index');    }    /**     * 创建token     */    public function actionCreatetoken(){        $uid  = $this->getGET('uid');        var_dump($uid);        $a= $this->_createToken($uid);        var_dump($a);    }    /**     * 解密token     */    public function actionDecrypttoken(){        $token  = $this->getGET('token');        var_dump($token);        $token_str = $this->__decryptToken($token);        list($uid, $rand) = explode('|', $token_str);       echo date('y-m-d H:m:s','1498121990'),'<br/>';        echo $uid;    }}